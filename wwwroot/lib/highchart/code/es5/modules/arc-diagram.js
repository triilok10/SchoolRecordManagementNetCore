!/**
 * Highcharts JS v11.4.3 (2024-05-22)
 *
 * Arc diagram module
 *
 * (c) 2021 Piotr Madej
 *
 * License: www.highcharts.com/license
 */function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/modules/arc-diagram",["highcharts","highcharts/modules/sankey"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function o(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}o(e,"Series/ArcDiagram/ArcDiagramPoint.js",[e["Series/NodesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,o){var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=e.seriesTypes.sankey.prototype.pointClass,s=o.extend,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.isValid=function(){return!0},e}(r);return s(a.prototype,{setState:t.setNodeState}),a}),o(e,"Series/ArcDiagram/ArcDiagramSeriesDefaults.js",[],function(){return{centeredLinks:!1,equalNodes:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{fillOpacity:1,lineWidth:0,states:{},symbol:"circle"},offset:"100%",reversed:!1}}),o(e,"Series/ArcDiagram/ArcDiagramSeries.js",[e["Series/ArcDiagram/ArcDiagramPoint.js"],e["Series/ArcDiagram/ArcDiagramSeriesDefaults.js"],e["Series/Sankey/SankeyColumnComposition.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,e,o,i,n,r,s){var a,l=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),p=this&&this.__rest||function(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(o[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)0>e.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(o[i[n]]=t[i[n]]);return o},h=r.prototype.symbols,d=n.seriesTypes,u=d.column,c=d.sankey,f=s.crisp,y=s.extend,m=s.merge,g=s.pick,k=s.relativeLength,v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.createNodeColumns=function(){var t=this,e=this,i=e.chart,n=o.compose([],e);return n.sankeyColumn.maxLength=i.inverted?i.plotHeight:i.plotWidth,n.sankeyColumn.getTranslationFactor=function(e){for(var o,r,s,a=n.slice(),l=t.options.minLinkWidth||0,p=0,h=0,d=1,u=0,c=(i.plotSizeX||0)-(e.options.marker&&e.options.marker.lineWidth||0)-(n.length-1)*e.nodePadding;n.length;){for(p=c/n.sankeyColumn.sum(),o=!1,r=n.length;r--;){s=n[r].getSum()*p*d;var f=Math.min(i.plotHeight,i.plotWidth);s>f?d=Math.min(f/s,d):s<l&&(n.splice(r,1),c-=l,s=l,o=!0),u+=s*(1-d)/2,h=Math.max(h,s)}if(!o)break}return n.length=0,a.forEach(function(t){t.scale=d,n.push(t)}),n.sankeyColumn.maxRadius=h,n.sankeyColumn.scale=d,n.sankeyColumn.additionalSpace=u,p},n.sankeyColumn.offset=function(t,o){for(var r,s=t.series.options.equalNodes,a=e.nodePadding,l=Math.min(i.plotWidth,i.plotHeight,(n.sankeyColumn.maxLength||0)/e.nodes.length-a),p=n.sankeyColumn.additionalSpace||0,h=0;h<n.length;h++){var d=n[h].getSum()*(n.sankeyColumn.scale||0),u=s?l:Math.max(d*o,e.options.minLinkWidth||0);if(r=d?u+a:0,n[h]===t)return{relativeLeft:p+k(t.options.offset||0,r)};p+=r}},e.nodes.forEach(function(t){t.column=0,n.push(t)}),[n]},n.prototype.translateLink=function(t){var e,o,i=t.fromNode,n=t.toNode,r=this.chart,s=this.translationFactor,a=t.options,l=this.options,p=g(a.linkWeight,l.linkWeight,Math.max((t.weight||0)*s*i.scale,this.options.minLinkWidth||0)),h=t.series.options.centeredLinks,d=i.nodeY,u=function(e,o){var i=(e.offset(t,o)||0)*s;return Math.min(e.nodeX+i,e.nodeX+(e.shapeArgs&&e.shapeArgs.height||0)-p)},c=h?i.nodeX+((i.shapeArgs.height||0)-p)/2:u(i,"linksFrom"),f=h?n.nodeX+((n.shapeArgs.height||0)-p)/2:u(n,"linksTo"),y=d;c>f&&(c=(e=[f,c])[0],f=e[1]),l.reversed&&(c=(o=[f,c])[0],f=o[1],y=(r.plotSizeY||0)-y),t.shapeType="path",t.linkBase=[c,c+p,f,f+p];var m=(f+p-c)/Math.abs(f+p-c)*g(l.linkRadius,Math.min(Math.abs(f+p-c)/2,i.nodeY-Math.abs(p)));t.shapeArgs={d:[["M",c,y],["A",(f+p-c)/2,m,0,0,1,f+p,y],["L",f,y],["A",(f-c-p)/2,m-p,0,0,0,c+p,y],["Z"]]},t.dlBox={x:c+(f-c)/2,y:y-m,height:p,width:0},t.tooltipPos=r.inverted?[(r.plotSizeY||0)-t.dlBox.y-p/2,(r.plotSizeX||0)-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+p/2],t.y=t.plotY=1,t.x=t.plotX=1,t.color||(t.color=i.color)},n.prototype.translateNode=function(t,e){var o,i=this.translationFactor,n=this.chart,r=n.inverted?n.plotWidth:n.plotHeight,s=this.options,a=Math.min(n.plotWidth,n.plotHeight,r/t.series.nodes.length-this.nodePadding),l=t.getSum()*(e.sankeyColumn.scale||0),p=s.equalNodes?a:Math.max(l*i,this.options.minLinkWidth||0),d=(null===(o=s.marker)||void 0===o?void 0:o.lineWidth)||0,u=e.sankeyColumn.offset(t,i),y=f(g(u&&u.absoluteLeft,(e.sankeyColumn.left(i)||0)+(u&&u.relativeLeft||0)),d),k=m(s.marker,t.options.marker),v=k.symbol,S=k.radius,b=parseInt(s.offset,10)*((n.inverted?n.plotWidth:n.plotHeight)-(f(this.colDistance*(t.column||0)+(k.lineWidth||0)/2,d)+(e.sankeyColumn.scale||0)*(e.sankeyColumn.maxRadius||0)/2))/100;if(t.sum=l,l){t.nodeX=y,t.nodeY=b;var x=t.options.width||s.width||p,C=t.options.height||s.height||p,O=b;s.reversed&&(O=(n.plotSizeY||0)-b,n.inverted&&(O=(n.plotSizeY||0)-b)),this.mapOptionsToLevel&&(t.dlOptions=c.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options})),t.plotX=1,t.plotY=1,t.tooltipPos=n.inverted?[(n.plotSizeY||0)-O-C/2,(n.plotSizeX||0)-y-x/2]:[y+x/2,O+C/2],t.shapeType="path",t.shapeArgs={d:h[v||"circle"](y,O-(S||C)/2,S||x,S||C),width:S||x,height:S||C},t.dlBox={x:y+x/2,y:O,height:0,width:0}}else t.dlOptions={enabled:!1}},n.prototype.drawDataLabels=function(){if(this.options.dataLabels){var t=this.options.dataLabels.textPath;u.prototype.drawDataLabels.call(this,this.nodes),this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,u.prototype.drawDataLabels.call(this,this.data),this.options.dataLabels.textPath=t}},n.prototype.pointAttribs=function(e,o){if(e&&e.isNode){var n=p(i.prototype.pointAttribs.apply(this,arguments),[]);return n}return t.prototype.pointAttribs.apply(this,arguments)},n.prototype.markerAttribs=function(e){return e.isNode?t.prototype.markerAttribs.apply(this,arguments):{}},n.defaultOptions=m(c.defaultOptions,e),n}(c);return y(v.prototype,{orderNodes:!1}),v.prototype.pointClass=t,n.registerSeriesType("arcdiagram",v),v}),o(e,"masters/modules/arc-diagram.src.js",[e["Core/Globals.js"]],function(t){return t})});